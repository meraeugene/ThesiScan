<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Preview - ThesiScan</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/libPreviewStyles.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="logo">
        <img src="images/sub logo.png" alt="Logo" />
        <span class="logo-text">ThesiScan</span>
      </div>
      <nav class="nav-links">
        <a href="librarianDashboard.html"
          ><i class="fas fa-home"></i><span class="link-text">Home</span></a
        >
        <a href="libViewProfScreen.html"
          ><i class="fas fa-user"></i><span class="link-text">Profile</span></a
        >
        <a href="libBookReportScreen.html"
          ><i class="fas fa-book"></i
          ><span class="link-text">Book Reports</span></a
        >
        <a href="libAccSettScreen.html"
          ><i class="fas fa-cog"></i><span class="link-text">Settings</span></a
        >
      </nav>
      <div class="logout-link">
        <a href="#" onclick="logout()"
          ><i class="fas fa-sign-out-alt"></i
          ><span class="link-text">Logout</span></a
        >
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <h1 style="margin-bottom: 12px">ThesiScan</h1>

      <div class="container">
        <!-- Preview Section -->
        <div class="preview">
          <!-- Step Indicator -->
          <div
            id="stepIndicator"
            style="margin-bottom: 12px; display: flex; gap: 8px"
          ></div>

          <div class="preview-box">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas"></canvas>
            <img
              id="capturedImage"
              style="display: none"
              alt="Captured Image"
            />
            <div id="cropOverlay" class="crop-overlay"></div>
            <span id="captureIndicator" class="capture-indicator">
              <i class="fas fa-check"></i>
            </span>

            <!-- <div id="overlayHint"></div> -->
            <!-- add this inside preview-box -->
          </div>

          <!-- Instruction text -->
          <div
            id="instructionText"
            style="text-align: center; margin-top: 8px"
          ></div>

          <div style="display: flex; gap: 8px; margin-top: 8px">
            <button id="retakeBtn" class="btn-retake" style="display: none">
              Retake
            </button>
            <button id="extractBtn" class="btn-extract" style="display: none">
              Extract
            </button>
          </div>
        </div>

        <!-- Book Information Form -->
        <div class="form-container">
          <div class="form-box">
            <h3>Thesis Information</h3>
            <form id="bookForm">
              <div class="form-group">
                <label>Title</label><input type="text" name="title" required />
              </div>
              <div class="form-group">
                <label>Author/s</label
                ><input type="text" name="authors" required />
              </div>
              <div class="form-group">
                <label>Program/Course</label
                ><input type="text" name="program_course" required />
              </div>
              <div class="form-group">
                <label>Date Published (Month Year)</label
                ><input
                  type="text"
                  name="date_published"
                  placeholder="e.g. November 2025"
                  required
                />
              </div>
              <div class="form-group">
                <label>Abstract</label><textarea name="abstract"></textarea>
              </div>
              <div class="form-group">
                <label>Keywords</label><textarea name="keywords"></textarea>
              </div>
              <div class="form-actions">
                <button type="button" class="cancel" onclick="resetForm()">
                  Cancel
                </button>
                <button type="submit" class="save">Save</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/notyf@3/notyf.min.js"></script>
    <script src="js/libPreviewScript.js"></script>
  </body>
</html>
